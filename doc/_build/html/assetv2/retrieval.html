

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Asset Record Retrieval &mdash; Jitsuin Archivist v0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Attachments Operations API" href="../attachmentsv1/index.html" />
    <link rel="prev" title="Asset Record Creation" href="creation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/Jitsuin_Logo_RGB.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">Administrator configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auth/authentication.html">API Request Authorization and Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tenanciesv1/index.html">Tenancies API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tlscacertificatesv1/index.html">TLS CA Certificates Management (v1)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compliancev1/index.html">Compliance API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iamv1/index.html">Identity and Access Management (v1)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../attachments/index.html">Attachments API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../attachmentsv2/index.html">Attachments V2 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blobsv1/index.html">BlobsV1 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locations/index.html">Locations API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Assets API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="creation.html">Asset Record Creation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Asset Record Retrieval</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fetch-all-assets">Fetch all assets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fetch-specific-asset-by-identity">Fetch specific asset by identity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fetch-specific-asset-at-given-point-in-time-by-identity">Fetch specific asset at given point in time by identity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fetch-assets-by-name">Fetch assets by name</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fetch-assets-by-type">Fetch assets by type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fetch-assets-by-filtering-for-presence-of-a-field">Fetch assets by filtering for presence of a field</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fetch-assets-which-are-missing-a-field">Fetch assets which are missing a field</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../attachmentsv1/index.html">Attachments Operations API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../builtinv1/index.html">Builtin Operations API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recordevidencev1/index.html">RecordEvidence Operations API</a></li>
<li class="toctree-l2"><a class="reference internal" href="openapi.html">Assets Swagger API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../eventv2/index.html">Events API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blockchainv1alpha1/index.html">Blockchain API (v1alpha1)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system/index.html">System API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../miscellaneous/index.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Jitsuin Archivist</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Assets API</a> &raquo;</li>
        
      <li>Asset Record Retrieval</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="asset-record-retrieval">
<span id="assetv2-retrieval"></span><h1>Asset Record Retrieval<a class="headerlink" href="#asset-record-retrieval" title="Permalink to this headline">¶</a></h1>
<p>Create the <strong>bearer_token</strong> and store in a file in a secure local directory with 0600 permissions.</p>
<p>See <a class="reference internal" href="../auth/authentication.html#bearer-token"><span class="std std-ref">API Request Authorization and Authentication</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following example shows use of the  API over curl in a bash terminal.
The concepts are fully portable to any other REST client (eg PostMan or
python requests)</p>
</aside>
<p>Set the URL (for example):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">export</span> <span class="nv">URL</span><span class="o">=</span>https://synsation.1234-5678.nodes.archivist.jitsuin.io
</pre></div>
</div>
<p>Asset records in Jitsuin Archivist are tokenized at creation time and referred
to in all API calls and smart contracts throughout the system by a unique
identity of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">assets</span><span class="o">/</span><span class="mi">12345678</span><span class="o">-</span><span class="mi">90</span><span class="n">ab</span><span class="o">-</span><span class="n">cdef</span><span class="o">-</span><span class="mi">1234</span><span class="o">-</span><span class="mi">567890</span><span class="n">abcdef</span><span class="o">.</span>
</pre></div>
</div>
<p>If you do not know the asset’s identity you can fetch asset records using other
information you do know, such as the asset’s name in your asset management or
digital twin platform.</p>
<section id="fetch-all-assets">
<h2>Fetch all assets<a class="headerlink" href="#fetch-all-assets" title="Permalink to this headline">¶</a></h2>
<p>To fetch all asset records, simply GET the <code class="docutils literal notranslate"><span class="pre">assets</span></code> resource:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ curl -v -X GET <span class="se">\</span>
     -H <span class="s2">&quot;@</span><span class="nv">$BEARER_TOKEN_FILE</span><span class="s2">&quot;</span> <span class="se">\</span>
     <span class="nv">$URL</span>/archivist/v2/assets
</pre></div>
</div>
</section>
<section id="fetch-specific-asset-by-identity">
<h2>Fetch specific asset by identity<a class="headerlink" href="#fetch-specific-asset-by-identity" title="Permalink to this headline">¶</a></h2>
<p>If you know the unique identity of the Asset Record simply GET the
resource:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ curl -v -X GET <span class="se">\</span>
     -H <span class="s2">&quot;@</span><span class="nv">$BEARER_TOKEN_FILE</span><span class="s2">&quot;</span> <span class="se">\</span>
     <span class="nv">$URL</span>/archivist/v2/assets/6a951b62-0a26-4c22-a886-1082297b063b
</pre></div>
</div>
</section>
<section id="fetch-specific-asset-at-given-point-in-time-by-identity">
<h2>Fetch specific asset at given point in time by identity<a class="headerlink" href="#fetch-specific-asset-at-given-point-in-time-by-identity" title="Permalink to this headline">¶</a></h2>
<p>If you know the unique identity of an Asset Record and want to show its state at any given point in the past, simply GET with following query parameter</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ curl -v -X GET <span class="se">\</span>
     -H <span class="s2">&quot;@</span><span class="nv">$BEARER_TOKEN_FILE</span><span class="s2">&quot;</span> <span class="se">\</span>
     <span class="nv">$URL</span>/archivist/v2/assets/6a951b62-0a26-4c22-a886-1082297b063b?at_time<span class="o">=</span><span class="m">2021</span>-01-13T12:34:21Z
</pre></div>
</div>
<p>This will return the Asset Record with the values it had on 2021-01-13T12:34:21Z</p>
</section>
<section id="fetch-assets-by-name">
<h2>Fetch assets by name<a class="headerlink" href="#fetch-assets-by-name" title="Permalink to this headline">¶</a></h2>
<p>To fetch all assets with a specific name,  GET the <code class="docutils literal notranslate"><span class="pre">assets</span></code> resource and filter on <code class="docutils literal notranslate"><span class="pre">arc_display_name</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ curl -g -v -X GET <span class="se">\</span>
     -H <span class="s2">&quot;@</span><span class="nv">$BEARER_TOKEN_FILE</span><span class="s2">&quot;</span> <span class="se">\</span>
     <span class="nv">$URL</span>/archivist/v2/assets?attributes.arc_display_name<span class="o">=</span>tcl.ccj.003
</pre></div>
</div>
</section>
<section id="fetch-assets-by-type">
<h2>Fetch assets by type<a class="headerlink" href="#fetch-assets-by-type" title="Permalink to this headline">¶</a></h2>
<p>To fetch all assets of a specific type,  GET the <code class="docutils literal notranslate"><span class="pre">assets</span></code> resource and filter on <code class="docutils literal notranslate"><span class="pre">arc_display_type</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ curl -g -v -X GET <span class="se">\</span>
     -H <span class="s2">&quot;@</span><span class="nv">$BEARER_TOKEN_FILE</span><span class="s2">&quot;</span> <span class="se">\</span>
     <span class="nv">$URL</span>/archivist/v2/assets?attributes.arc_display_type<span class="o">=</span>Traffic%20light
</pre></div>
</div>
<p>Each of these calls returns a list of matching asset records in the form:</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;assets&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
        <span class="nt">&quot;identity&quot;</span><span class="p">:</span> <span class="s2">&quot;assets/6a951b62-0a26-4c22-a886-1082297b063b&quot;</span><span class="p">,</span>
        <span class="nt">&quot;behaviours&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;Firmware&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Maintenance&quot;</span><span class="p">,</span>
            <span class="s2">&quot;RecordEvidence&quot;</span><span class="p">,</span>
            <span class="s2">&quot;LocationUpdate&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Attachments&quot;</span>
        <span class="p">],</span>
        <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;arc_display_type&quot;</span><span class="p">:</span> <span class="s2">&quot;Traffic light&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arc_firmware_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arc_home_location_identity&quot;</span><span class="p">:</span> <span class="s2">&quot;locations/866790d8-4ed6-4cc9-8f60-07672609b331&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arc_serial_number&quot;</span><span class="p">:</span> <span class="s2">&quot;vtl-x4-07&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arc_description&quot;</span><span class="p">:</span> <span class="s2">&quot;Traffic flow control light at A603 North East&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arc_display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;tcl.ccj.003&quot;</span><span class="p">,</span>
            <span class="nt">&quot;some_custom_attribute&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arc_attachments&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;arc_display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;arc_primary_image&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;arc_attachment_identity&quot;</span><span class="p">:</span> <span class="s2">&quot;blobs/87b1a84c-1c6f-442b-923e-a97516f4d275&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;arc_hash_alg&quot;</span><span class="p">:</span> <span class="s2">&quot;SHA256&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;arc_hash_value&quot;</span><span class="p">:</span> <span class="s2">&quot;246c316e2cd6971ce5c83a3e61f9880fa6e2f14ae2976ee03500eb282fd03a60&quot;</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;confirmation_status&quot;</span><span class="p">:</span> <span class="s2">&quot;CONFIRMED&quot;</span><span class="p">,</span>
        <span class="nt">&quot;tracked&quot;</span><span class="p">:</span> <span class="s2">&quot;TRACKED&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="fetch-assets-by-filtering-for-presence-of-a-field">
<h2>Fetch assets by filtering for presence of a field<a class="headerlink" href="#fetch-assets-by-filtering-for-presence-of-a-field" title="Permalink to this headline">¶</a></h2>
<p>To fetch all assets with a field set to any value,  GET the <code class="docutils literal notranslate"><span class="pre">assets</span></code> resource
and filter on most available fields. For example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ curl -g -v -X GET <span class="se">\</span>
     -H <span class="s2">&quot;@</span><span class="nv">$BEARER_TOKEN_FILE</span><span class="s2">&quot;</span> <span class="se">\</span>
     <span class="nv">$URL</span>/archivist/v2/assets?attributes.arc_display_name<span class="o">=</span>*
</pre></div>
</div>
<p>Returns all assets which have arc_display_name that is not empty.</p>
</section>
<section id="fetch-assets-which-are-missing-a-field">
<h2>Fetch assets which are missing a field<a class="headerlink" href="#fetch-assets-which-are-missing-a-field" title="Permalink to this headline">¶</a></h2>
<p>To fetch all assets with a field which is not set to any value,  GET the
<code class="docutils literal notranslate"><span class="pre">assets</span></code> resource and filter on most available fields. For example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ curl -g -v -X GET <span class="se">\</span>
     -H <span class="s2">&quot;@</span><span class="nv">$BEARER_TOKEN_FILE</span><span class="s2">&quot;</span> <span class="se">\</span>
     <span class="nv">$URL</span>/archivist/v2/assets?attributes.arc_display_name!<span class="o">=</span>*
</pre></div>
</div>
<p>Returns all assets which do not have arc_display_name or in which
arc_display_name is empty.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See <a class="reference internal" href="../introduction/behaviours.html#intro-behaviours"><span class="std std-ref">Behaviours</span></a> and <a class="reference internal" href="../introduction/lifecycle.html#intro-lifecycle"><span class="std std-ref">LifeCycle</span></a> for details of how to interpret
the system-reserved <code class="docutils literal notranslate"><span class="pre">arc_*</span></code> attributes.</p>
<p>See <a class="reference internal" href="../blobsv1/upload.html#blobsv1-upload"><span class="std std-ref">Upload Blob</span></a> and/or <a class="reference internal" href="../locations/creation.html#locations-creation"><span class="std std-ref">Location Creation</span></a> for details
of how to handle the <code class="docutils literal notranslate"><span class="pre">arc_home_location_identity</span></code> and <code class="docutils literal notranslate"><span class="pre">arc_primary_image</span></code>
attributes.</p>
</aside>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The number of records returned has a maximum limit. If this limit is too small then one must use
<a class="reference internal" href="../miscellaneous/paging.html#misc-paging"><span class="std std-ref">API Request Paging</span></a>.</p>
</aside>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The total number of assets that exist is returned in the response header field ‘x-total-count’ if
the ‘x-request-total-count’ header on the request is set to ‘true’.
The curl option ‘-i’ will emit this to stdout.</p>
</aside>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A full API reference is available in <a class="reference external" href="openapi.html#get--archivist-v2-assets">Swagger GET API</a></p>
</aside>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../attachmentsv1/index.html" class="btn btn-neutral float-right" title="Attachments Operations API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="creation.html" class="btn btn-neutral float-left" title="Asset Record Creation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019-2021, Jitsuin, Inc..

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>