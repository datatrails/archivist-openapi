

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Event Record Retrieval &mdash; Jitsuin Archivist v0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Events Swagger API" href="openapi.html" />
    <link rel="prev" title="Event Record Creation" href="creation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/Jitsuin_Logo_RGB.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">Administrator configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auth/authentication.html">API Request Authorization and Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tenanciesv1/index.html">Tenancies API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tlscacertificatesv1/index.html">TLS CA Certificates Management (v1)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compliancev1/index.html">Compliance API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iamv1/index.html">Identity and Access Management (v1)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../attachments/index.html">Attachments API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../attachmentsv2/index.html">Attachments V2 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blobsv1/index.html">BlobsV1 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locations/index.html">Locations API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assetv2/index.html">Assets API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Events API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="creation.html">Event Record Creation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Event Record Retrieval</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fetch-all-events">Fetch all events</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fetch-events-by-asset-identity">Fetch events by asset identity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fetch-events-by-behaviour-name">Fetch events by behaviour name</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fetch-events-by-behaviour-name-and-operation">Fetch events by behaviour name and operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fetch-events-by-filtering-on-field-names">Fetch events by filtering on field names</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fetch-events-by-filtering-on-dates">Fetch events by filtering on dates</a></li>
<li class="toctree-l3"><a class="reference internal" href="#responses">Responses</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="openapi.html">Events Swagger API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../blockchainv1alpha1/index.html">Blockchain API (v1alpha1)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system/index.html">System API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../miscellaneous/index.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Jitsuin Archivist</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Events API</a> &raquo;</li>
        
      <li>Event Record Retrieval</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="event-record-retrieval">
<span id="eventv2-retrieval"></span><h1>Event Record Retrieval<a class="headerlink" href="#event-record-retrieval" title="Permalink to this headline">¶</a></h1>
<p>Create the <strong>bearer_token</strong> and store in a file in a secure local directory with 0600 permissions.</p>
<p>See <a class="reference internal" href="../auth/authentication.html#bearer-token"><span class="std std-ref">API Request Authorization and Authentication</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following example shows use of the  API over curl in a bash terminal.
The concepts are fully portable to any other REST client (eg PostMan or
python requests)</p>
</aside>
<p>Set the URL (for example):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">export</span> <span class="nv">URL</span><span class="o">=</span>https://synsation.1234-5678.nodes.archivist.jitsuin.io
</pre></div>
</div>
<p>Event records in Jitsuin Archivist are tokenized at creation time and referred
to in all API calls and smart contracts throughout the system by a unique
identity of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">assets</span><span class="o">/</span><span class="mi">12345678</span><span class="o">-</span><span class="mi">90</span><span class="n">ab</span><span class="o">-</span><span class="n">cdef</span><span class="o">-</span><span class="mi">1234</span><span class="o">-</span><span class="mi">567890</span><span class="n">abcdef</span><span class="o">/</span><span class="n">events</span><span class="o">/</span><span class="mi">11</span><span class="n">bf5b37</span><span class="o">-</span><span class="n">e0b8</span><span class="o">-</span><span class="mf">42e0</span><span class="o">-</span><span class="mi">8</span><span class="n">dcf</span><span class="o">-</span><span class="n">dc8c4aefc000</span>
</pre></div>
</div>
<p>If you do not know the event’s identity you can fetch event records using other
information you do know, such as the event’s name in your asset management or
digital twin platform.</p>
<section id="fetch-all-events">
<h2>Fetch all events<a class="headerlink" href="#fetch-all-events" title="Permalink to this headline">¶</a></h2>
<p>To fetch all event records, simply GET the <code class="docutils literal notranslate"><span class="pre">events</span></code> resource:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ curl -v -X GET <span class="se">\</span>
     -H <span class="s2">&quot;@</span><span class="nv">$BEARER_TOKEN_FILE</span><span class="s2">&quot;</span> <span class="se">\</span>
     <span class="nv">$URL</span>/archivist/v2/assets/-/events
</pre></div>
</div>
</section>
<section id="fetch-events-by-asset-identity">
<h2>Fetch events by asset identity<a class="headerlink" href="#fetch-events-by-asset-identity" title="Permalink to this headline">¶</a></h2>
<p>If you know the unique identity of the Asset Record simply GET the
resource:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ curl -v -X GET <span class="se">\</span>
     -H <span class="s2">&quot;@</span><span class="nv">$BEARER_TOKEN_FILE</span><span class="s2">&quot;</span> <span class="se">\</span>
     <span class="nv">$URL</span>/archivist/v2/assets/6a951b62-0a26-4c22-a886-1082297b063b/events
</pre></div>
</div>
</section>
<section id="fetch-events-by-behaviour-name">
<h2>Fetch events by behaviour name<a class="headerlink" href="#fetch-events-by-behaviour-name" title="Permalink to this headline">¶</a></h2>
<p>To fetch all events with a specific behaviour, GET the <code class="docutils literal notranslate"><span class="pre">events</span></code> resource and filter on <code class="docutils literal notranslate"><span class="pre">behaviour</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ curl -g -v -X GET <span class="se">\</span>
     -H <span class="s2">&quot;@</span><span class="nv">$BEARER_TOKEN_FILE</span><span class="s2">&quot;</span> <span class="se">\</span>
     <span class="nv">$URL</span>/archivist/v2/assets/-/events?behaviour<span class="o">=</span>firmware
</pre></div>
</div>
</section>
<section id="fetch-events-by-behaviour-name-and-operation">
<h2>Fetch events by behaviour name and operation<a class="headerlink" href="#fetch-events-by-behaviour-name-and-operation" title="Permalink to this headline">¶</a></h2>
<p>To fetch all events with a specific behaviour and operation, GET the <code class="docutils literal notranslate"><span class="pre">events</span></code> resource and filter on <code class="docutils literal notranslate"><span class="pre">firmware</span></code>
and <code class="docutils literal notranslate"><span class="pre">update</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ curl -g -v -X GET <span class="se">\</span>
     -H <span class="s2">&quot;@</span><span class="nv">$BEARER_TOKEN_FILE</span><span class="s2">&quot;</span> <span class="se">\</span>
     <span class="nv">$URL</span>/archivist/v2/assets/-/events?behaviour<span class="o">=</span>firmware<span class="p">&amp;</span><span class="nv">operation</span><span class="o">=</span>update
</pre></div>
</div>
</section>
<section id="fetch-events-by-filtering-on-field-names">
<h2>Fetch events by filtering on field names<a class="headerlink" href="#fetch-events-by-filtering-on-field-names" title="Permalink to this headline">¶</a></h2>
<p>To fetch all events with a specific characteristics, GET the <code class="docutils literal notranslate"><span class="pre">events</span></code> resource and filter on most available
fields. For example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ curl -g -v -X GET <span class="se">\</span>
     -H <span class="s2">&quot;@</span><span class="nv">$BEARER_TOKEN_FILE</span><span class="s2">&quot;</span> <span class="se">\</span>
     <span class="nv">$URL</span>/archivist/v2/assets/-/events?attributes.arc_firmware_version<span class="o">=</span><span class="m">1</span>.23
</pre></div>
</div>
</section>
<section id="fetch-events-by-filtering-on-dates">
<h2>Fetch events by filtering on dates<a class="headerlink" href="#fetch-events-by-filtering-on-dates" title="Permalink to this headline">¶</a></h2>
<p>To fetch all events occurring at different dates, GET the <code class="docutils literal notranslate"><span class="pre">events</span></code> resource and filter on timestamps. For example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ curl -g -v -X GET <span class="se">\</span>
     -H <span class="s2">&quot;@</span><span class="nv">$BEARER_TOKEN_FILE</span><span class="s2">&quot;</span> <span class="se">\</span>
     <span class="nv">$URL</span>/archivist/v2/assets/-/events?timestamp_accepted_before<span class="o">=</span><span class="m">2019</span>-12-01T00:00:00Z
</pre></div>
</div>
<dl class="simple">
<dt>Other timestamp filters are</dt><dd><p><code class="docutils literal notranslate"><span class="pre">timestamp_accepted_since</span></code>,
<code class="docutils literal notranslate"><span class="pre">timestamp_committed_before</span></code>,
<code class="docutils literal notranslate"><span class="pre">timestamp_committed_since</span></code>,
<code class="docutils literal notranslate"><span class="pre">timestamp_declared_before</span></code>,
<code class="docutils literal notranslate"><span class="pre">timestamp_declared_since</span></code>.</p>
</dd>
</dl>
</section>
<section id="responses">
<h2>Responses<a class="headerlink" href="#responses" title="Permalink to this headline">¶</a></h2>
<p>Each of these calls returns a list of matching event records in the form:</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;identity&quot;</span><span class="p">:</span> <span class="s2">&quot;assets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000&quot;</span><span class="p">,</span>
  <span class="nt">&quot;asset_identity&quot;</span><span class="p">:</span> <span class="s2">&quot;assets/add30235-1424-4fda-840a-d5ef82c4c96f&quot;</span><span class="p">,</span>
  <span class="nt">&quot;behaviour&quot;</span><span class="p">:</span> <span class="s2">&quot;Firmware&quot;</span><span class="p">,</span>
  <span class="nt">&quot;operation&quot;</span><span class="p">:</span> <span class="s2">&quot;Update&quot;</span><span class="p">,</span>
  <span class="nt">&quot;event_attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;arc_description&quot;</span><span class="p">:</span> <span class="s2">&quot;Patched during regular patch window&quot;</span><span class="p">,</span>
    <span class="nt">&quot;arc_correlation_value&quot;</span><span class="p">:</span> <span class="s2">&quot;12-345-67&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;asset_attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;arc_firmware_version&quot;</span><span class="p">:</span> <span class="s2">&quot;3.2.1&quot;</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="nt">&quot;timestamp_accepted&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-11-27T15:13:21Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;timestamp_declared&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-11-27T14:44:19Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;timestamp_committed&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-11-27T15:15:02Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;principal_declared&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;issuer&quot;</span><span class="p">:</span> <span class="s2">&quot;idp.synsation.io/1234&quot;</span><span class="p">,</span>
    <span class="nt">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;phil.b&quot;</span><span class="p">,</span>
    <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;phil.b@synsation.io&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;principal_accepted&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;issuer&quot;</span><span class="p">:</span> <span class="s2">&quot;job.idp.server/1234&quot;</span><span class="p">,</span>
    <span class="nt">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;bob@job&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;confirmation_status&quot;</span><span class="p">:</span> <span class="s2">&quot;CONFIRMED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;block_number&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
  <span class="nt">&quot;transaction_index&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nt">&quot;transaction_id&quot;</span><span class="p">:</span> <span class="s2">&quot;0x07569&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See <a class="reference internal" href="../introduction/behaviours.html#intro-behaviours"><span class="std std-ref">Behaviours</span></a> and <a class="reference internal" href="../introduction/lifecycle.html#intro-lifecycle"><span class="std std-ref">LifeCycle</span></a> for details of how to interpret
the system-reserved <code class="docutils literal notranslate"><span class="pre">arc_*</span></code> attributes.</p>
</aside>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The number of records returned has a maximum limit. If this limit is too small then one must use
<a class="reference internal" href="../miscellaneous/paging.html#misc-paging"><span class="std std-ref">API Request Paging</span></a>.</p>
</aside>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The total number of assets that exist is returned in the response header field ‘x-total-count’ if
the ‘x-request-total-count’ header on the request is set to ‘true’.
The curl option ‘-i’ will emit this to stdout.</p>
</aside>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A full API reference is available in <a class="reference external" href="openapi.html#get--archivist-v2-assets">Swagger GET API</a></p>
</aside>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="openapi.html" class="btn btn-neutral float-right" title="Events Swagger API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="creation.html" class="btn btn-neutral float-left" title="Event Record Creation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019-2021, Jitsuin, Inc..

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>